<form autocomplete="off" [formGroup]="userForm" (ngSubmit)="saveUser()">
    <p-dialog
        header="Create new user"
        [(visible)]="employeeService.displayDialog"
        [modal]="true"
        [style]="{ width: '650px' }"
        (onHide)="userForm.reset()"
        close
    >
        <div class="field">
            <label for="Name">Name</label>
            <input
                id="name"
                type="text"
                class="w-full"
                pInputText
                formControlName="Name"
            />
            <small *ngIf="isInvalid('Name')" id="name-help" class="p-error">
                <div *ngIf="name?.errors?.['required']">Name is required.</div>
            </small>
        </div>

        <div class="field">
            <label for="email">Email</label>
            <input
                id="email"
                type="email"
                class="w-full"
                pInputText
                formControlName="email"
            />
            <small *ngIf="isInvalid('email')" id="email-help" class="p-error">
                <div *ngIf="email?.errors?.['required']">Email is required.</div>
                <div *ngIf="email?.errors?.['email']">Email must be valid.</div>
            </small>
        </div>

        <div class="field">
            <label for="email">Username</label>
            <input
                id="username"
                type="text"
                class="w-full"
                pInputText
                formControlName="username"
            />
            <small *ngIf="isInvalid('username')" id="username-help" class="p-error">
                <div *ngIf="username?.errors?.['required']">Username is required.</div>
                <div *ngIf="username?.errors?.['minlength']">
                    Username must be at least 3 characters long.
                </div>
            </small>
        </div>


        <ng-template pTemplate="footer">
            <button
                pButton
                pRipple
                label="Save"
                class="p-button"
                icon="pi pi-check"
                type="submit"
                [disabled]="submitting"
            ></button>
            <button
                pButton
                pRipple
                label="Cancel"
                class="p-button-secondary p-button-text"
                icon="pi pi-times"
                type="button"
                (click)="closeDialog()"
            ></button>
        </ng-template>
    </p-dialog>
</form>
